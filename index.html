<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clasificador de Prendas de Ropa</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>üß• Clasificador de Prendas de Ropa</h1>
            <p class="subtitle">Sube una imagen de prenda y el modelo de IA la clasificar√° usando Fashion MNIST</p>
        </header>

        <main>
            <div class="upload-section">
                <div class="upload-area" id="uploadArea">
                    <div class="upload-icon">üìÅ</div>
                    <p class="upload-text">Arrastra y suelta una imagen aqu√≠</p>
                    <p class="upload-text-secondary">o haz clic para seleccionar</p>
                    <input type="file" id="imageInput" accept="image/*" hidden>
                    <button class="btn-select" id="selectButton">Seleccionar Imagen</button>
                </div>
                
                <div class="preview-section">
                    <div class="image-preview-container">
                        <h3>Vista Previa</h3>
                        <div class="image-wrapper">
                            <canvas id="imageCanvas" width="280" height="280"></canvas>
                            <div id="imagePlaceholder">
                                <p>La imagen aparecer√° aqu√≠</p>
                            </div>
                        </div>
                        <div class="image-controls">
                            <button class="btn-secondary" id="clearButton">Limpiar</button>
                            <button class="btn-primary" id="predictButton" disabled>Clasificar Imagen</button>
                        </div>
                    </div>
                    
                    <div class="results-section">
                        <h3>Resultados de la Clasificaci√≥n</h3>
                        <div class="results-container">
                            <div class="loading" id="loadingIndicator">
                                <div class="spinner"></div>
                                <p>Procesando imagen...</p>
                            </div>
                            
                            <div class="results" id="results">
                                <div class="prediction-result">
                                    <div class="prediction-header">
                                        <span class="label">Prenda Predicha:</span>
                                        <span class="value" id="predictedClass">-</span>
                                    </div>
                                    <div class="confidence">
                                        <span class="label">Confianza:</span>
                                        <span class="value" id="confidenceValue">-</span>
                                    </div>
                                </div>
                                
                                <div class="class-probabilities">
                                    <h4>Probabilidades por Clase:</h4>
                                    <div id="probabilitiesList">
                                        <!-- Las probabilidades se agregar√°n aqu√≠ din√°micamente -->
                                    </div>
                                </div>
                            </div>
                            
                            <div class="error" id="errorMessage">
                                <p>Ha ocurrido un error. Intenta nuevamente.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="info-section">
                <h3>üìã Instrucciones de Uso</h3>
                <ol>
                    <li>Selecciona o arrastra una imagen de una prenda de ropa (preferiblemente fondo claro)</li>
                    <li>La imagen ser√° procesada autom√°ticamente a escala de grises y redimensionada a 28x28 p√≠xeles</li>
                    <li>Haz clic en "Clasificar Imagen" para obtener la predicci√≥n</li>
                    <li>Revisa los resultados mostrados en la secci√≥n de clasificaci√≥n</li>
                </ol>
                
                <h3>üéØ Clases del Modelo</h3>
                <div class="classes-grid">
                    <div class="class-item">0: Camiseta/Top</div>
                    <div class="class-item">1: Pantal√≥n</div>
                    <div class="class-item">2: Su√©ter</div>
                    <div class="class-item">3: Vestido</div>
                    <div class="class-item">4: Abrigo</div>
                    <div class="class-item">5: Sandalia</div>
                    <div class="class-item">6: Camisa</div>
                    <div class="class-item">7: Zapatilla</div>
                    <div class="class-item">8: Bolso</div>
                    <div class="class-item">9: Bota</div>
                </div>
                
                <div class="model-info">
                    <p><strong>Modelo:</strong> Redes Convolucionales (CNN)</p>
                    <p><strong>Dataset:</strong> Fashion MNIST</p>
                    <p><strong>Framework:</strong> TensorFlow.js</p>
                </div>
            </div>
        </main>
        
        <footer>
            <p>Clasificador de Prendas de Ropa &copy; 2023 | Modelo CNN entrenado con Fashion MNIST</p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>